{"version":3,"file":"js/169.131ce1c1.js","mappings":"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","sources":["webpack://vue_manage/./src/components/CommonForm.vue","webpack://vue_manage/src/components/CommonForm.vue","webpack://vue_manage/./src/components/CommonForm.vue?f143","webpack://vue_manage/./src/components/CommonForm.vue?5b03","webpack://vue_manage/./src/views/User/index.vue","webpack://vue_manage/./src/components/CommonTable.vue","webpack://vue_manage/src/components/CommonTable.vue","webpack://vue_manage/./src/components/CommonTable.vue?1d08","webpack://vue_manage/./src/components/CommonTable.vue?634b","webpack://vue_manage/src/views/User/index.vue","webpack://vue_manage/./src/views/User/index.vue?50c1","webpack://vue_manage/./src/views/User/index.vue?e486","webpack://vue_manage/./src/api/axios.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-form',{ref:\"form\",attrs:{\"label-width\":_vm.width || '100px',\"model\":_vm.form_data,\"inline\":_vm.inline,\"rules\":_vm.rules}},[_vm._l((_vm.form_config),function(item){return _c('el-form-item',{key:item.lable,attrs:{\"label\":item.label}},[(item.type === 'input')?_c('el-input',{attrs:{\"placeholder\":'请输入'+item.label},model:{value:(_vm.form_data[item.model]),callback:function ($$v) {_vm.$set(_vm.form_data, item.model, $$v)},expression:\"form_data[item.model]\"}}):_vm._e(),(item.type === 'switch')?_c('el-switch',{model:{value:(_vm.form_data[item.model]),callback:function ($$v) {_vm.$set(_vm.form_data, item.model, $$v)},expression:\"form_data[item.model]\"}}):_vm._e(),(item.type === 'date')?_c('el-date-picker',{attrs:{\"placeholder\":\"请选择日期\",\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form_data[item.model]),callback:function ($$v) {_vm.$set(_vm.form_data, item.model, $$v)},expression:\"form_data[item.model]\"}}):_vm._e(),(item.type === 'select')?_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form_data[item.model]),callback:function ($$v) {_vm.$set(_vm.form_data, item.model, $$v)},expression:\"form_data[item.model]\"}},_vm._l((item.opts),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1):_vm._e()],1)}),_c('el-form-item',[_vm._t(\"default\")],2)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-form ref=\"form\" :label-width=\"width || '100px'\" :model=\"form_data\" :inline=\"inline\" :rules=\"rules\">\r\n        <el-form-item v-for=\"item in form_config\" :key=\"item.lable\" :label=\"item.label\">\r\n            <el-input\r\n                v-if=\"item.type === 'input'\"\r\n                :placeholder=\"'请输入'+item.label\"\r\n                v-model=\"form_data[item.model]\"\r\n            >\r\n            </el-input>\r\n            <el-switch\r\n                v-if=\"item.type === 'switch'\"\r\n                v-model=\"form_data[item.model]\"\r\n            >\r\n            </el-switch>\r\n            <el-date-picker\r\n                v-if=\"item.type === 'date'\"\r\n                placeholder=\"请选择日期\"\r\n                v-model=\"form_data[item.model]\"\r\n                type=\"date\"\r\n                value-format=\"yyyy-MM-dd\"\r\n            >\r\n            </el-date-picker>\r\n            <el-select\r\n                v-if=\"item.type === 'select'\"\r\n                placeholder=\"请选择\"\r\n                v-model=\"form_data[item.model]\"\r\n            >\r\n                <el-option \r\n                    v-for=\"item in item.opts\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\"\r\n                >\r\n\r\n                </el-option>\r\n            </el-select>\r\n        </el-form-item>\r\n        <el-form-item><slot></slot></el-form-item>\r\n    </el-form>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'CommonForm',\r\n        props: {\r\n            formConfig: Array,\r\n            formData: Object,\r\n            inline: Boolean,\r\n            rules: Object,\r\n            width: String,\r\n        },\r\n        data() {\r\n            return {\r\n                form_config: this.formConfig,\r\n                form_data: this.formData,\r\n            };\r\n        },\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommonForm.vue?vue&type=template&id=451c35af&\"\nimport script from \"./CommonForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"manage\"},[(_vm.isShow)?_c('div',[_c('el-dialog',{attrs:{\"title\":_vm.operateType === 'add' ? '添加用户' : '编辑用户',\"visible\":_vm.isShow},on:{\"update:visible\":function($event){_vm.isShow=$event}}},[_c('common-form',{ref:\"form\",attrs:{\"formConfig\":_vm.formConfig,\"formData\":_vm.formData,\"inline\":true}}),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.isShow=false;_vm.isChange=false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确 定\")])],1)],1)],1):_vm._e(),_c('div',{staticClass:\"manage-header\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"+ 新增\")]),_c('common-form',{ref:\"form\",attrs:{\"formConfig\":_vm.searchFormConfig,\"formData\":_vm.searchFormData,\"inline\":true}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getList(_vm.searchFormData.keyword)}}},[_vm._v(\"搜索\")])],1)],1),_c('common-table',{attrs:{\"tableConfig\":_vm.tableConfig,\"tableData\":_vm.tableData,\"pageConfig\":_vm.pageConfig},on:{\"edit\":_vm.editUser,\"del\":_vm.delUser,\"changePage\":function($event){return _vm.getList()}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"common-table\"},[_c('el-table',{attrs:{\"data\":_vm.table_data,\"height\":\"93%\"}},[_vm._l((_vm.table_config),function(item){return _c('el-table-column',{key:item.label,attrs:{\"show-overflow-tooltip\":\"\",\"label\":item.label,\"width\":item.width ? item.width : 150},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row[item.prop]))])]}}],null,true)})}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],2),_c('el-pagination',{staticClass:\"pager\",attrs:{\"layout\":\"prev, pager, next\",\"background\":\"\",\"total\":_vm.page_config.total,\"current-page\":_vm.page_config.page},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.page_config, \"page\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.page_config, \"page\", $event)},\"current-change\":_vm.changePage}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"common-table\">\r\n        <el-table :data=\"table_data\" height=\"93%\">\r\n            <el-table-column\r\n            show-overflow-tooltip\r\n            v-for=\"item in table_config\"\r\n            :key=\"item.label\"\r\n            :label=\"item.label\"\r\n            :width=\"item.width ? item.width : 150\"\r\n            >\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left:10px\">{{scope.row[item.prop]}}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" min-width=\"180\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                    <el-button size=\"mini\" @click=\"handleDelete(scope.row)\" type=\"danger\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n            class=\"pager\"\r\n            layout=\"prev, pager, next\"\r\n            background\r\n            :total=\"page_config.total\"\r\n            :current-page.sync=\"page_config.page\"\r\n            @current-change=\"changePage\"\r\n        >\r\n\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name:'CommonTable',\r\n        props: {\r\n            tableConfig: Array,\r\n            tableData: Array,\r\n            pageConfig: Object,\r\n        },\r\n        data() {\r\n            return {\r\n                table_config: this.tableConfig,\r\n                table_data: this.tableData,\r\n                page_config: this.pageConfig,\r\n            };\r\n        },\r\n        methods: {\r\n            handleEdit(row) {\r\n                this.$emit('edit',row);\r\n            },\r\n            handleDelete(row) {\r\n                this.$emit('del',row);\r\n            },\r\n            changePage(page) {\r\n                this.$emit('changePage', page);\r\n            },\r\n        },\r\n        watch: {\r\n            tableData(val) {\r\n                this.table_data = val;\r\n            },\r\n            pageConfig(val) {\r\n                this.page_config = val;\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.common-table {\r\n    height: calc(100% - 62px);\r\n    background-color: #fff;\r\n    position: relative;\r\n    .pager {\r\n        position: absolute;\r\n        bottom: 0;\r\n        right: 20px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommonTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommonTable.vue?vue&type=template&id=88bfe8f2&scoped=true&\"\nimport script from \"./CommonTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommonTable.vue?vue&type=style&index=0&id=88bfe8f2&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"88bfe8f2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"manage\">\r\n        <div v-if=\"isShow\">\r\n            <el-dialog\r\n                :title=\"operateType === 'add' ? '添加用户' : '编辑用户'\"\r\n                :visible.sync=\"isShow\"\r\n            >\r\n                <common-form \r\n                    :formConfig=\"formConfig\" \r\n                    :formData=\"formData\"\r\n                    :inline=\"true\"\r\n                    ref=\"form\"\r\n                >\r\n                </common-form>\r\n\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"isShow=false;isChange=false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"confirm\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n        </div>\r\n\r\n        <div class=\"manage-header\">\r\n            <el-button type=\"primary\" @click=\"addUser\">+ 新增</el-button>\r\n            <common-form \r\n                :formConfig=\"searchFormConfig\" \r\n                :formData=\"searchFormData\"\r\n                :inline=\"true\"\r\n                ref=\"form\"\r\n            >\r\n                <el-button type=\"primary\" @click=\"getList(searchFormData.keyword)\">搜索</el-button>\r\n            </common-form>\r\n        </div>\r\n        <common-table\r\n            :tableConfig=\"tableConfig\"\r\n            :tableData=\"tableData\"\r\n            :pageConfig=\"pageConfig\"\r\n            @edit=\"editUser\"\r\n            @del=\"delUser\"\r\n            @changePage=\"getList()\"\r\n        >\r\n        </common-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import CommonForm from '@/components/CommonForm'\r\n    import CommonTable from '@/components/CommonTable'\r\n    import { getEmployees, addEmployee, updateEmployee, deleteEmployee } from '@/api/axios';\r\n\r\n    export default {\r\n        name:'User',\r\n        components: {\r\n            CommonForm,\r\n            CommonTable,\r\n        },\r\n        data() {\r\n            return {\r\n                operateType: 'add',\r\n                isShow: false,\r\n                formConfig: [\r\n                    {\r\n                        label: '工号',\r\n                        type: 'input',\r\n                        model: 'id',\r\n                    },\r\n                    {\r\n                        label: '姓名',\r\n                        type: 'input',\r\n                        model: 'name',\r\n                    },\r\n                    {\r\n                        label: '性别',\r\n                        type: 'select',\r\n                        model: 'gender',\r\n                        opts: [\r\n                            {\r\n                                label: '男',\r\n                                value: '男',\r\n                            },\r\n                            {\r\n                                label: '女',\r\n                                value: '女',\r\n                            },\r\n                        ],\r\n                    },\r\n                    {\r\n                        label: '年龄',\r\n                        type: 'input',\r\n                        model: 'age',\r\n                    },\r\n\r\n                    {\r\n                        label: '部门',\r\n                        type: 'input',\r\n                        model: 'dept',\r\n                    },\r\n                ],\r\n                formData: {\r\n                    id: '',\r\n                    name: '',\r\n                    gender: '',\r\n                    age: '',\r\n                    dept: '',\r\n                },\r\n                searchFormConfig: [\r\n                    {\r\n                        label: '',\r\n                        type: 'input',\r\n                        model: 'keyword',\r\n                    },  \r\n                ],\r\n                searchFormData: {\r\n                    keyword: '',\r\n                },\r\n                tableConfig: [\r\n                    {\r\n                        prop: 'Id',\r\n                        label: '工号',\r\n                    },\r\n                    {\r\n                        prop: 'Name',\r\n                        label: '姓名',\r\n                    },\r\n                    {\r\n                        prop: 'Gender',\r\n                        label: '性别',\r\n                    },\r\n                    {\r\n                        prop: 'Age',\r\n                        label: '年龄',\r\n                    },\r\n                    {\r\n                        prop: 'Dept',\r\n                        label: '部门',\r\n                    },\r\n                ],\r\n                tableData: [],\r\n                pageConfig: {\r\n                    page: 1,\r\n                    total: 100,\r\n                },\r\n            };\r\n        },\r\n        methods: {\r\n            confirm() {\r\n                if(this.operateType === 'edit') {\r\n                    const { id, name, gender, age, dept } = this.formData;\r\n                    updateEmployee( id, name, gender, age, dept ).then(res => {\r\n                        this.isShow = false;\r\n                        const flag = res.code === 200 ? 'success' : 'error';\r\n                        this.getList();\r\n                        this.$message({\r\n                            type: flag,\r\n                            message: res.message\r\n                        });\r\n                    });\r\n                } else {\r\n                    const { id, name, gender, age, dept } = this.formData;\r\n                    addEmployee( id, name, gender, age, dept ).then(res => {\r\n                        this.isShow = false;\r\n                        const flag = res.code === 200 ? 'success' : 'error';\r\n                        this.getList();\r\n                        this.$message({\r\n                            type: flag,\r\n                            message: res.message\r\n                        });\r\n                    });\r\n                }\r\n            },\r\n            addUser() {\r\n                this.operateType = 'add';\r\n                this.isShow = true;\r\n                this.formData = {\r\n                    id: '',\r\n                    name: '',\r\n                    gender: '',\r\n                    age: '',\r\n                    dept: '',\r\n                };\r\n            },\r\n            editUser(row) {\r\n                this.operateType = 'edit';\r\n                this.isShow = true;\r\n                this.formData = {...row};\r\n            },\r\n            delUser(row) {\r\n                this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    const id = row.Id;\r\n                    console.log('row',row)\r\n                    console.log('id',id)\r\n                    deleteEmployee(id\r\n                    ).then(() => {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '删除成功!'\r\n                        });\r\n                       this.getList();\r\n                    })\r\n                }).catch((err) => {\r\n                        this.$message({\r\n                            type: 'info',\r\n                            message: '已取消删除'\r\n                        });\r\n                        console.log(err)\r\n                        this.getList(); \r\n                    });\r\n            },\r\n            getList(name = '') {\r\n                this.pageConfig.loading = true;\r\n                this.pageConfig.page = name ? 1 : this.pageConfig.page;\r\n                getEmployees().then(res => {\r\n                    this.tableData = res.data\r\n                    console.log(res.data)\r\n                    this.tableConfig.total = res.data.count\r\n                    this.tableConfig.loading = false\r\n                });\r\n            }\r\n        },\r\n        created() {\r\n            this.getList();\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.manage-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=23510dbf&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=23510dbf&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23510dbf\",\n  null\n  \n)\n\nexport default component.exports","// import axios from 'axios'\r\n// import config from '@/config'\r\n\r\n// const baseUrl = process.env.NODE_ENV === 'development' ? config.baseUrl.dev : config.baseUrl.pro\r\n\r\n// class HttpRequest {\r\n//     constructor(baseUrl){\r\n//         this.baseUrl = baseUrl\r\n//     }\r\n\r\n//     getInsideConfig(){\r\n//         const config = {\r\n//             baseURL: this.baseUrl,\r\n//             headers: {}\r\n//         }\r\n//         return config\r\n//     }\r\n//     interceptors(instance){\r\n//         // 请求拦截\r\n//         instance.interceptors.request.use(config => {\r\n//             return config\r\n//         }, error => {\r\n//             return Promise.reject(error)\r\n//         })\r\n//         // 响应拦截\r\n//         instance.interceptors.response.use(res => {\r\n//             return res\r\n//         }, error => {\r\n//             return Promise.reject(error)\r\n//         })\r\n//     }\r\n//     request(options){\r\n//         const instance = axios.create()\r\n//         options = { ...this.getInsideConfig(), ...options}\r\n//         this.interceptors(instance)\r\n//         return instance(options)\r\n//     }\r\n// }\r\n\r\n// export default new HttpRequest(baseUrl)\r\n\r\nimport axios from 'axios';\r\n\r\n// 设置axios的基本URL，这应该是你的后端服务地址\r\naxios.defaults.baseURL = 'http://localhost:3000/api';\r\n\r\n// 用于保存JWT令牌的变量\r\nlet token = null;\r\n\r\n// 登陆验证函数\r\nexport const loginPermission = async (username, password) => {\r\n  try {\r\n    const response = await axios.post('/login', { username, password });\r\n    token = response.data.data.token; // 保存服务器返回的JWT令牌\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`; // 设置后续请求的认证头\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Login error:', error.response.data);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 获取员工列表函数\r\nexport const getEmployees = async () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    const response = await axios.get('/employees', { \r\n      headers: { \r\n        Authorization: `Bearer ${token}` \r\n      } \r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Get employees error:', error.response.data);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 添加员工函数\r\nexport const addEmployee = async (id, name, gender, age, dept) => {\r\n  try {\r\n    const response = await axios.post('/employees', { id, name, gender, age, dept });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Add employee error:', error.response.data);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 更新员工信息函数\r\nexport const updateEmployee = async (id, name, gender, age, dept) => {\r\n  try {\r\n    const response = await axios.put(`/employees/${id}`, { name, gender, age, dept });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Update employee error:', error.response.data);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 删除员工函数\r\nexport const deleteEmployee = async (id) => {\r\n  try {\r\n    const response = await axios.delete(`/employees/${id}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Delete employee error:', error.response.data);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 获取所有账号信息（员工和经理）函数\r\nexport const getAccounts = async () => {\r\n  try {\r\n    const response = await axios.get('/accounts');\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Get accounts error:', error.response.data);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 添加账号信息函数\r\nexport const addAccount = async (username, password, type) => {\r\n  try {\r\n    const response = await axios.post('/account', { username, password, type });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Add account error:', error.response.data);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 更新账号密码函数\r\nexport const updateAccountPassword = async (username, newPassword) => {\r\n  try {\r\n    const response = await axios.put('/account', { username, newPassword });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Update account password error:', error.response.data);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 删除账号函数\r\nexport const deleteAccount = async (username, type) => {\r\n  try {\r\n    const response = await axios.delete('/account', { params: { username, type } });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Delete account error:', error.response.data);\r\n    throw error;\r\n  }\r\n};\r\n"],"names":["render","_vm","this","_c","_self","ref","attrs","width","form_data","inline","rules","_l","form_config","item","key","lable","label","type","model","value","callback","$$v","$set","expression","_e","opts","_t","staticRenderFns","name","props","formConfig","formData","data","component","staticClass","isShow","operateType","on","$event","slot","isChange","_v","confirm","addUser","searchFormConfig","searchFormData","getList","keyword","tableConfig","tableData","pageConfig","editUser","delUser","table_data","table_config","scopedSlots","_u","fn","scope","staticStyle","_s","row","prop","handleEdit","handleDelete","page_config","total","page","changePage","methods","watch","components","CommonForm","CommonTable","id","gender","age","dept","updateEmployee","message","addEmployee","confirmButtonText","cancelButtonText","then","console","deleteEmployee","catch","err","getEmployees","created","axios","baseURL","token","loginPermission","async","username","password","response","headers","common","error","localStorage","getItem","Authorization"],"sourceRoot":""}